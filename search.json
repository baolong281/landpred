[{"path":"https://baolong281.github.io/landpred/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Layla Parast. Maintainer.","code":""},{"path":"https://baolong281.github.io/landpred/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Parast L (2023). landpred: Landmark Prediction Survival Outcome. doi:10.32614/CRAN.package.landpred, R package version 1.2, https://CRAN.R-project.org/package=landpred.","code":"@Manual{,   title = {landpred: Landmark Prediction of a Survival Outcome},   author = {Layla Parast},   year = {2023},   note = {R package version 1.2},   url = {https://CRAN.R-project.org/package=landpred},   doi = {10.32614/CRAN.package.landpred}, }"},{"path":[]},{"path":"https://baolong281.github.io/landpred/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Landmark Prediction of a Survival Outcome","text":"landpred package provides nonparametric models landmark prediction long-term survival outcomes, incorporating covariate short-term event information. package supports construction flexible varying-coefficient models use discrete covariates, well multiple continuous covariates. goal improve prediction accuracy censored short-term events available predictors, using robust nonparametric procedures don’t require correct model specification avoid restrictive parametric assumptions found existing multistate survival methods. information models can found Parast et al. (2012, Journal American Statistical Association, doi:10.1080/01621459.2012.721281), Parast et al. (2011, Biometrical Journal, https://doi.org/10.1002/bimj.201000150).","code":""},{"path":[]},{"path":"https://baolong281.github.io/landpred/index.html","id":"generating-data","dir":"","previous_headings":"","what":"Generating Data","title":"Landmark Prediction of a Survival Outcome","text":"generate dataframe two continuous covariates, Z1,Z2Z_1,Z_2, one discrete covariate, BB. also censored short event XSX_S censored long event, outcome, XLX_L.","code":"n <- 500 # Generate covariates Z1 <- rnorm(n) Z2 <- rnorm(n) B <- rbinom(n, 1, 0.5)  # Binary discrete covariate  # Generate event times based on exponential model X_L_raw <- rexp(n, rate = exp(-0.5 * Z1 + 0.3 * Z2 + 0.4 * B)) X_S_raw <- rexp(n, rate = exp(0.2 * Z1 - 0.3 * Z2 - 0.3 * B))  # Generate censoring times C_L <- runif(n, 2, 8)  # censoring for long event C_S <- runif(n, 1, 4)  # censoring for short event  # Apply censoring X_L <- pmin(X_L_raw, C_L) D_L <- as.numeric(X_L_raw <= C_L)  # 1 if event, 0 if censored  X_S <- pmin(X_S_raw, C_S) D_S <- as.numeric(X_S_raw <= C_S)  # 1 if event, 0 if censored  # Return simple data frame df <- data.frame(   X_L = X_L,       # long event time   D_L = D_L,       # long event indicator   X_S = X_S,       # short event time   D_S = D_S,       # short event indicator   Z1 = Z1,         # continuous covariate 1   Z2 = Z2,         # continuous covariate 2   B = B            # discrete covariate )"},{"path":"https://baolong281.github.io/landpred/index.html","id":"workflow","dir":"","previous_headings":"","what":"Workflow","title":"Landmark Prediction of a Survival Outcome","text":"package exports landpred function, construct landpred object given formula data. can supply number continuous covariates , singular discrete covariate, demonstrated . Note short term information needs wrapped Surv survival package. proceed object continuous covariates, short-term information. can call summary landpred object get information . Note landpred object returned landpred call serves baseline object. get model specific time ande delta, must call get_model function object specified summary function. Workflows / functions discrete continuous case. get_model function accepts landpred object input, three required parameters, t0, tau, bw. returns landmark prediction model specific time delta. coefficients standard errors coefficeints, call summary returned model get coefficients information short covariate provided (occured yet). can also provide t_s call get coefficients short event occured yet. must first choose bandwidth value. provide utility select optimal value using K-fold cross validations","code":"library(landpred) library(survival)  # Create model with continuous covariates and short term information obj1 <- landpred(Surv(X_L, D_L) ~ Surv(X_S, D_S) + Z1 + Z2, data=df)  # Create model with discrete marker and short term information # Notice the discrete flag is now enabled, which is false by default. obj2 <- landpred(Surv(X_L, D_L) ~ Surv(X_S, D_S) + B, data=df, discrete=TRUE)  # Create model with discrete marker and no short term information # Notice the discrete flag is now enabled, which is false by default. obj3 <- landpred(Surv(X_L, D_L) ~  B, data=df, discrete=TRUE) summary(obj1) #>  #> Landpred Object Summary #> Call get_model() to get time-specific model for t0 + tau #>  #> Call: #> landpred(formula = Surv(X_L, D_L) ~ Surv(X_S, D_S) + Z1 + Z2) #>  #> Discrete: FALSE    Short Covariate: TRUE     N: 500 # t0 <- 0.5 # tau <- 1.5 # t_s <- 1 # bw <- optimize_bw(obj1, tau, t_s) # bw # Get model model <- get_model(obj1, t0=1, tau=1.5, bw=0.05)  # Summary with no short covariate summary(model) #>  #> Continuous Landpred Model: #>  #> Coefficients (No short covariate): #> Warning in summary.glm(model$glm_noinfo): observations with zero weight not #> used for calculating dispersion #>             Estimate Std. Error #> (Intercept)  1.84640     0.3022 #> Z1          -1.03234     0.2438 #> Z2           0.59962     0.2115 #> --- #> Fit on n=146 observations. #>  #> t0: 1.000      tau: 1.500 # Summary with short covariate summary(model, t_s=0.8) #>  #> Continuous Landpred Model: #>  #> Coefficients (t_s=0.800000): #>             Estimate Std. Error #> (Intercept)  12.8095     811.67 #> Z1           -6.0911     345.42 #> Z2            7.3664     618.72 #> --- #> Fit on n=102 observations. #>  #> t0: 1.000      tau: 1.500"},{"path":"https://baolong281.github.io/landpred/index.html","id":"prediction","dir":"","previous_headings":"","what":"Prediction","title":"Landmark Prediction of a Survival Outcome","text":"can also prediction wiih model get survival probabilities given observation.","code":"probs <- predict(model, newdata=df[1:5, , drop=FALSE]) probs #> [1] 0.9968329 0.8711052 0.5689068 0.9175203 0.7586372"},{"path":"https://baolong281.github.io/landpred/reference/AUC.landmark.html","id":null,"dir":"Reference","previous_headings":"","what":" Estimates the area under the ROC curve (AUC). — AUC.landmark","title":" Estimates the area under the ROC curve (AUC). — AUC.landmark","text":"function calculates AUC given data (truth) corresponding estimated probabilities; uses continuity correction.","code":""},{"path":"https://baolong281.github.io/landpred/reference/AUC.landmark.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Estimates the area under the ROC curve (AUC). — AUC.landmark","text":"","code":"AUC.landmark(t0, tau, data, short = TRUE, weight=NULL)"},{"path":"https://baolong281.github.io/landpred/reference/AUC.landmark.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Estimates the area under the ROC curve (AUC). — AUC.landmark","text":"t0 landmark time. tau residual survival time interest. data n k matrix, k = 4 6. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), second last column covariate vector (can NULL) last column estimated probability P(TL<t0+tau | TL>t0). short logical value indicating whether data includes short term event information. TRUE short term XS DS includes third fourth columns data matrix, FALSE . Default TRUE. weight optional weight incorporated estimation.","code":""},{"path":"https://baolong281.github.io/landpred/reference/AUC.landmark.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Estimates the area under the ROC curve (AUC). — AUC.landmark","text":"AUC.est Estimated AUC","code":""},{"path":"https://baolong281.github.io/landpred/reference/AUC.landmark.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Estimates the area under the ROC curve (AUC). — AUC.landmark","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/AUC.landmark.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Estimates the area under the ROC curve (AUC). — AUC.landmark","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/AUC.landmark.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":" Estimates the area under the ROC curve (AUC). — AUC.landmark","text":"","code":"data(data_example_landpred) t0=2 tau = 8 Prob.Null(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Null\"  out = Prob.Null(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Null\" out$Prob #> Error: object 'out' not found out$data #> Error: object 'out' not found  AUC.landmark(t0=t0,tau=tau, data = out$data) #> Error in AUC.landmark(t0 = t0, tau = tau, data = out$data): could not find function \"AUC.landmark\""},{"path":"https://baolong281.github.io/landpred/reference/BS.landmark.html","id":null,"dir":"Reference","previous_headings":"","what":" Estimates the Brier score. — BS.landmark","title":" Estimates the Brier score. — BS.landmark","text":"function calculates Brier score given data (truth) corresponding estimated probabilities.","code":""},{"path":"https://baolong281.github.io/landpred/reference/BS.landmark.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Estimates the Brier score. — BS.landmark","text":"","code":"BS.landmark(t0, tau, data, short = TRUE, weight=NULL)"},{"path":"https://baolong281.github.io/landpred/reference/BS.landmark.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Estimates the Brier score. — BS.landmark","text":"t0 landmark time. tau residual survival time interest. data n k matrix, k = 4 6. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), second last column covariate vector (can NULL) last column estimated probability P(TL<t0+tau | TL>t0). short logical value indicating whether data includes short term event information. TRUE short term XS DS includes third fourth columns data matrix, FALSE . Default TRUE. weight optional weight incorporated estimation.","code":""},{"path":"https://baolong281.github.io/landpred/reference/BS.landmark.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Estimates the Brier score. — BS.landmark","text":"Brier.score Estimated Brier score","code":""},{"path":"https://baolong281.github.io/landpred/reference/BS.landmark.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Estimates the Brier score. — BS.landmark","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/BS.landmark.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Estimates the Brier score. — BS.landmark","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/BS.landmark.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":" Estimates the Brier score. — BS.landmark","text":"","code":"data(data_example_landpred) t0=2 tau = 8 Prob.Null(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Null\"  out = Prob.Null(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Null\" out$Prob #> Error: object 'out' not found out$data #> Error: object 'out' not found  BS.landmark(t0=t0,tau=tau, data = out$data) #> Error: object 'out' not found"},{"path":"https://baolong281.github.io/landpred/reference/Ghat.FUN.html","id":null,"dir":"Reference","previous_headings":"","what":" Calculates the Kaplan Meier survival probability for censoring — Ghat.FUN","title":" Calculates the Kaplan Meier survival probability for censoring — Ghat.FUN","text":"Calculates survival probability censoring .e. P(C > tt) C censoring; used inverse probability censoring weights (IPCW). function called Wi.FUN;  function called .","code":""},{"path":"https://baolong281.github.io/landpred/reference/Ghat.FUN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Calculates the Kaplan Meier survival probability for censoring — Ghat.FUN","text":"","code":"Ghat.FUN(tt, data, type = \"fl\", weight.given)"},{"path":"https://baolong281.github.io/landpred/reference/Ghat.FUN.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Calculates the Kaplan Meier survival probability for censoring — Ghat.FUN","text":"tt time (vector times) survival probability estimated. data n k matrix, k>=2. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C) type type sent survfit function, default \"fl\". weight.given weight used estimation.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Ghat.FUN.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Calculates the Kaplan Meier survival probability for censoring — Ghat.FUN","text":"survival probability censoring time tt","code":""},{"path":"https://baolong281.github.io/landpred/reference/Ghat.FUN.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Calculates the Kaplan Meier survival probability for censoring — Ghat.FUN","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/Kern.FUN.html","id":null,"dir":"Reference","previous_headings":"","what":" Calculates kernel matrix — Kern.FUN","title":" Calculates kernel matrix — Kern.FUN","text":"calculates kernel matrix needed estimating probability incorporating short term event information","code":""},{"path":"https://baolong281.github.io/landpred/reference/Kern.FUN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Calculates kernel matrix — Kern.FUN","text":"","code":"Kern.FUN(zz, zi, bw)"},{"path":"https://baolong281.github.io/landpred/reference/Kern.FUN.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Calculates kernel matrix — Kern.FUN","text":"zz zz zi zi bw bandwidth","code":""},{"path":"https://baolong281.github.io/landpred/reference/Kern.FUN.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Calculates kernel matrix — Kern.FUN","text":"kernel matrix","code":""},{"path":"https://baolong281.github.io/landpred/reference/Kern.FUN.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Calculates kernel matrix — Kern.FUN","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.ShortEvent.html","id":null,"dir":"Reference","previous_headings":"","what":" Estimates P(TL <t0+tau | TL > t0, Z, min(TS, t0), I(TS<=t0)), i.e. given discrete covariate and TS information. — Prob.Covariate.ShortEvent","title":" Estimates P(TL <t0+tau | TL > t0, Z, min(TS, t0), I(TS<=t0)), i.e. given discrete covariate and TS information. — Prob.Covariate.ShortEvent","text":"function calculates probability individual event interest t0 + tau given discrete covariate, given short term event information, given event yet occurred individual still risk time t0.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.ShortEvent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Estimates P(TL <t0+tau | TL > t0, Z, min(TS, t0), I(TS<=t0)), i.e. given discrete covariate and TS information. — Prob.Covariate.ShortEvent","text":"","code":"Prob.Covariate.ShortEvent(t0, tau, data, weight = NULL, bandwidth = NULL, newdata=NULL)"},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.ShortEvent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Estimates P(TL <t0+tau | TL > t0, Z, min(TS, t0), I(TS<=t0)), i.e. given discrete covariate and TS information. — Prob.Covariate.ShortEvent","text":"t0 landmark time. tau residual survival time probabilities calculated. Specifically, function estimates probability individual event interest t0 + tau given event yet occurred individual still risk time t0. data n 5 matrix. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), third column XS = min(TS, C) TS time short term event, C censoring time, fourth column DS =1*(TS<C), fifth column covariate. data used calculate estimated probability. weight weight incorporated estimation. bandwidth optional bandwidth used kernel smoothing; provided function calculates appropriate bandwidth using bw.nrd undersmoothing c = .10 (See reference) newdata optional n 5 matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), third column XS = min(TS, C) TS time short term event, C censoring time, fourth column DS =1*(TS<C), fifth column covariate. Predicted probabilities estimated data.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.ShortEvent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Estimates P(TL <t0+tau | TL > t0, Z, min(TS, t0), I(TS<=t0)), i.e. given discrete covariate and TS information. — Prob.Covariate.ShortEvent","text":"data data matrix additional column estimated individual probabilities; note predicted probability NA TL <t0 since defined individuals TL> t0 newdata newdata matrix additional column estimated individual probabilities; note predicted probability NA TL <t0 since defined individuals TL> t0; newdata supplied returns NULL","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.ShortEvent.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Estimates P(TL <t0+tau | TL > t0, Z, min(TS, t0), I(TS<=t0)), i.e. given discrete covariate and TS information. — Prob.Covariate.ShortEvent","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.ShortEvent.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Estimates P(TL <t0+tau | TL > t0, Z, min(TS, t0), I(TS<=t0)), i.e. given discrete covariate and TS information. — Prob.Covariate.ShortEvent","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.ShortEvent.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":" Estimates P(TL <t0+tau | TL > t0, Z, min(TS, t0), I(TS<=t0)), i.e. given discrete covariate and TS information. — Prob.Covariate.ShortEvent","text":"","code":"data(data_example_landpred) t0=2 tau = 8 #note: computationally intensive command below #Prob.Covariate.ShortEvent(t0=t0,tau=tau,data=data_example_landpred)  #out = Prob.Covariate.ShortEvent(t0=t0,tau=tau,data=data_example_landpred) #out$data #data.plot = out$data #plot(data.plot$XS[data.plot$Z ==1], data.plot$Probability[data.plot$Z ==1],  #pch = 20, xlim = c(0,t0)) #points(data.plot$XS[data.plot$Z ==0], data.plot$Probability[data.plot$Z ==0],  #pch = 20, col = 2)  newdata = matrix(c(1,1,0.5,1,0, 3,0,1,1,1, 4,1,1.5,1,0, 10,1,5,1,0, 11,0,11,0,1), ncol = 5, byrow=TRUE) #note: computationally intensive command below #out = Prob.Covariate.ShortEvent(t0=t0,tau=tau,data=data_example_landpred,newdata=newdata) #out$newdata"},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.html","id":null,"dir":"Reference","previous_headings":"","what":" Estimates P(TL <t0+tau | TL > t0, Z), i.e. given discrete covariate. — Prob.Covariate","title":" Estimates P(TL <t0+tau | TL > t0, Z), i.e. given discrete covariate. — Prob.Covariate","text":"function calculates probability individual event interest t0 + tau given discrete covariate given event yet occurred individual still risk time t0; estimated probability incorporate information short term event information.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Estimates P(TL <t0+tau | TL > t0, Z), i.e. given discrete covariate. — Prob.Covariate","text":"","code":"Prob.Covariate(t0, tau, data, weight = NULL, short  = TRUE, newdata = NULL)"},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Estimates P(TL <t0+tau | TL > t0, Z), i.e. given discrete covariate. — Prob.Covariate","text":"t0 landmark time. tau residual survival time probabilities calculated. Specifically, function estimates probability individual event interest t0 + tau given event yet occurred individual still risk time t0. data n k matrix, k =3 k=5. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C). short term event information included dataset third column XS = min(TS, C) TS time short term event, C censoring time, fourth column DS =1*(TS<C), fifth column covariate. short term event information included third column covariates (see \"short\" parameter). data used calculate estimated probabilities. weight optional weight incorporated estimation. short logical value indicating whether data includes short term event information. TRUE short term XS DS includes third fourth columns data matrix meaning covariates fifth column, FALSE meaning covariate third column. Default TRUE. newdata n k matrix, k =3 k=5. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), last column (either 3rd 5th)  contains covariate values. Predicted probabilities estimated data.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Estimates P(TL <t0+tau | TL > t0, Z), i.e. given discrete covariate. — Prob.Covariate","text":"Prob matrix estimated probability value covariate; first column shows covariate values second column contains predicted probability covariate value data data matrix additional column estimated individual probabilities; note predicted probability NA TL <t0 since defined individuals TL> t0 newdata newdata matrix additional column estimated individual probabilities; note predicted probability NA TL <t0 since defined individuals TL> t0; newdata supplied returns NULL","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Estimates P(TL <t0+tau | TL > t0, Z), i.e. given discrete covariate. — Prob.Covariate","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Estimates P(TL <t0+tau | TL > t0, Z), i.e. given discrete covariate. — Prob.Covariate","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Covariate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":" Estimates P(TL <t0+tau | TL > t0, Z), i.e. given discrete covariate. — Prob.Covariate","text":"","code":"data(data_example_landpred) t0=2 tau = 8 Prob.Covariate(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Covariate(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Covariate\"  out = Prob.Covariate(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Covariate(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Covariate\" out$Prob #> Error: object 'out' not found out$data #> Error: object 'out' not found  newdata = matrix(c(1,1,1, 3,0,1, 4,1,1, 10,1,0, 11,0,1), ncol = 3, byrow=TRUE) out = Prob.Covariate(t0=t0,tau=tau,data=data_example_landpred,newdata=newdata) #> Error in Prob.Covariate(t0 = t0, tau = tau, data = data_example_landpred,     newdata = newdata): could not find function \"Prob.Covariate\" out$Prob #> Error: object 'out' not found out$newdata #> Error: object 'out' not found"},{"path":"https://baolong281.github.io/landpred/reference/Prob.Null.html","id":null,"dir":"Reference","previous_headings":"","what":" Estimates P(TL <t0+tau | TL > t0). — Prob.Null","title":" Estimates P(TL <t0+tau | TL > t0). — Prob.Null","text":"function calculates probability individual event interest t0 + tau given event yet occurred individual still risk time t0; estimated probability incorporate information covariate short term event information.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Null.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Estimates P(TL <t0+tau | TL > t0). — Prob.Null","text":"","code":"Prob.Null(t0, tau, data, weight = NULL, newdata=NULL)"},{"path":"https://baolong281.github.io/landpred/reference/Prob.Null.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Estimates P(TL <t0+tau | TL > t0). — Prob.Null","text":"t0 landmark time. tau residual survival time probabilities calculated. Specifically, function estimates probability individual event interest t0 + tau given event yet occurred individual still risk time t0. data n k matrix, k >=2. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C). data used calculate estimated probability. weight optional weight incorporated estimation. newdata optional n k matrix, k >=2. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C). Predicted probabilities estimated data.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Null.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Estimates P(TL <t0+tau | TL > t0). — Prob.Null","text":"Prob Estimated probability individual event interest t0 + tau given event yet occurred individual still risk time t0; estimated probability incorporate information covariate short term event information. data data matrix additional column estimated individual probabilities; note predicted probability NA TL <t0 since defined individuals TL> t0 newdata newdata matrix additional column estimated individual probabilities; note predicted probability NA TL <t0 since defined individuals TL> t0; newdata supplied returns NULL","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Null.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Estimates P(TL <t0+tau | TL > t0). — Prob.Null","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Null.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Estimates P(TL <t0+tau | TL > t0). — Prob.Null","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob.Null.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":" Estimates P(TL <t0+tau | TL > t0). — Prob.Null","text":"","code":"data(data_example_landpred) t0=2 tau = 8 Prob.Null(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Null\"  out = Prob.Null(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Null\" out$Prob #> Error: object 'out' not found out$data #> Error: object 'out' not found  newdata = matrix(c(1,1,3,0,4,1,10,1,11,0), ncol = 2, byrow=TRUE) out = Prob.Null(t0=t0,tau=tau,data=data_example_landpred,newdata=newdata) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred, newdata = newdata): could not find function \"Prob.Null\" out$Prob #> Error: object 'out' not found out$newdata #> Error: object 'out' not found"},{"path":"https://baolong281.github.io/landpred/reference/Prob2.html","id":null,"dir":"Reference","previous_headings":"","what":" Estimates P(TL <t0+tau | TL > t0, Z, TS>t0). — Prob2","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS>t0). — Prob2","text":"function calculates probability individual event interest t0 + tau given discrete covariate, given short term event yet occurred t0, given long term event yet occurred individual still risk time t0. function called Prob.Covariate.ShortEvent; function called .","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS>t0). — Prob2","text":"","code":"Prob2(t0, tau, data, covariate.value, weight = NULL)"},{"path":"https://baolong281.github.io/landpred/reference/Prob2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS>t0). — Prob2","text":"t0 landmark time. tau residual survival time probabilities calculated. Specifically, function estimates probability individual event interest t0 + tau given event yet occurred individual still risk time t0. data n 5 matrix. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), third column log(XS) = log(min(TS, C)) TS time short term event, C censoring time, fourth column DS =1*(TS<C), fifth column covariate. data used calculate estimated probability. covariate.value discrete covariate value calculate estimated probability. weight optional weight incorporated estimation.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS>t0). — Prob2","text":"Estimated probability =  P(TL <t0+tau | TL > t0, Z, TS>t0).","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS>t0). — Prob2","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS>t0). — Prob2","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.k.t.html","id":null,"dir":"Reference","previous_headings":"","what":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts). — Prob2.k.t","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts). — Prob2.k.t","text":"function calculates probability individual event interest t0 + tau given discrete covariate, given short term event occurred t0 occurred time ts, given long term event yet occurred individual still risk time t0.function called Prob.Covariate.ShortEvent;  function called .","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.k.t.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts). — Prob2.k.t","text":"","code":"Prob2.k.t(t, t0, tau, data.use, bandwidth, covariate.value, weight = NULL)"},{"path":"https://baolong281.github.io/landpred/reference/Prob2.k.t.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts). — Prob2.k.t","text":"t time short term event, ts, log scale. t0 landmark time. tau residual survival time probabilities calculated. Specifically, function estimates probability individual event interest t0 + tau given event yet occurred individual still risk time t0. data.use n 5 matrix. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), third column log(XS) = log(min(TS, C)) TS time short term event, C censoring time, fourth column DS =1*(TS<C), fifth column covariate. bandwidth bandwidth used. covariate.value covariate value calculate probability. weight optional weight incorporated estimation.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.k.t.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts). — Prob2.k.t","text":"returns estimated probabilities ts value (parameter t) specified covariate value; returns NA ts>t0.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.k.t.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts). — Prob2.k.t","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Prob2.k.t.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts). — Prob2.k.t","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/VTM.html","id":null,"dir":"Reference","previous_headings":"","what":" Helper function, repeats a row. — VTM","title":" Helper function, repeats a row. — VTM","text":"function creates matrix repeats vc, dm times row equal vc vector.","code":""},{"path":"https://baolong281.github.io/landpred/reference/VTM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Helper function, repeats a row. — VTM","text":"","code":"VTM(vc, dm)"},{"path":"https://baolong281.github.io/landpred/reference/VTM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Helper function, repeats a row. — VTM","text":"vc vector repeat. dm number rows.","code":""},{"path":"https://baolong281.github.io/landpred/reference/VTM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Helper function, repeats a row. — VTM","text":"matrix repeats vc, dm times row equal vc vector","code":""},{"path":"https://baolong281.github.io/landpred/reference/Wi.FUN.html","id":null,"dir":"Reference","previous_headings":"","what":" Computes the inverse probability of censoring weights for a specific t0 and tau — Wi.FUN","title":" Computes the inverse probability of censoring weights for a specific t0 and tau — Wi.FUN","text":"Computes inverse probability censoring weights specific t0 tau .e. computes (t0 < XL < t0+tau)*DL/G(XL) + (XL>t0+tau)/G(t0+tau) XL = min(TL, C), TL time long term event, C censoring time, DL =1*(TL<C) G() estimate survival probability censoring estimated using Kaplan Meier estimator (see Ghat.FUN)","code":""},{"path":"https://baolong281.github.io/landpred/reference/Wi.FUN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Computes the inverse probability of censoring weights for a specific t0 and tau — Wi.FUN","text":"","code":"Wi.FUN(data, t0, tau, weight.given = NULL)"},{"path":"https://baolong281.github.io/landpred/reference/Wi.FUN.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Computes the inverse probability of censoring weights for a specific t0 and tau — Wi.FUN","text":"data n k matrix, k>= 2. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C) t0 landmark time.. tau residual survival time probabilities calculated. weight.given optional weight incorporated estimation weight","code":""},{"path":"https://baolong281.github.io/landpred/reference/Wi.FUN.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Computes the inverse probability of censoring weights for a specific t0 and tau — Wi.FUN","text":"Inverse probability censoring weight.","code":""},{"path":"https://baolong281.github.io/landpred/reference/Wi.FUN.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Computes the inverse probability of censoring weights for a specific t0 and tau — Wi.FUN","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/Wi.FUN.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":" Computes the inverse probability of censoring weights for a specific t0 and tau — Wi.FUN","text":"","code":"data(data_example_landpred) t0=2 tau = 8  W2i <- Wi.FUN(data_example_landpred[,1],data = data_example_landpred[,c(1:2)],t0=t0,tau=tau) #> Error in Wi.FUN(data_example_landpred[, 1], data = data_example_landpred[,     c(1:2)], t0 = t0, tau = tau): could not find function \"Wi.FUN\""},{"path":"https://baolong281.github.io/landpred/reference/coef.landpred_model_continuous.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Coefficients from Landpred Continuous Model — coef.landpred_model_continuous","title":"Extract Coefficients from Landpred Continuous Model — coef.landpred_model_continuous","text":"Extracts coefficients. t_s provided, fits short-term GLM returns coefficients.","code":""},{"path":"https://baolong281.github.io/landpred/reference/coef.landpred_model_continuous.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Coefficients from Landpred Continuous Model — coef.landpred_model_continuous","text":"","code":"# S3 method for class 'landpred_model_continuous' coef(object, t_s = NULL, ...)"},{"path":"https://baolong281.github.io/landpred/reference/coef.landpred_model_continuous.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Coefficients from Landpred Continuous Model — coef.landpred_model_continuous","text":"object landpred_model_continuous object. t_s Optional short-term covariate time. ... Additional arguments.","code":""},{"path":"https://baolong281.github.io/landpred/reference/coef.landpred_model_continuous.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Coefficients from Landpred Continuous Model — coef.landpred_model_continuous","text":"named vector coefficients.","code":""},{"path":"https://baolong281.github.io/landpred/reference/coefficient_se.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Standard Errors for Coefficients — coefficient_se","title":"Calculate Standard Errors for Coefficients — coefficient_se","text":"Calculates standard errors coefficients landpred model. t_s provided, uses perturbation resampling method. Otherwise, returns standard errors GLM.","code":""},{"path":"https://baolong281.github.io/landpred/reference/coefficient_se.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Standard Errors for Coefficients — coefficient_se","text":"","code":"coefficient_se(model, t_s = NULL, samples = 200)"},{"path":"https://baolong281.github.io/landpred/reference/coefficient_se.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Standard Errors for Coefficients — coefficient_se","text":"model landpred_model_continuous object. t_s time short-term covariate measurement. samples number resampling iterations.","code":""},{"path":"https://baolong281.github.io/landpred/reference/coefficient_se.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Standard Errors for Coefficients — coefficient_se","text":"named vector standard errors.","code":""},{"path":"https://baolong281.github.io/landpred/reference/cumsum2.html","id":null,"dir":"Reference","previous_headings":"","what":" Helper function — cumsum2","title":" Helper function — cumsum2","text":"Helper function; called directly user.","code":""},{"path":"https://baolong281.github.io/landpred/reference/cumsum2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Helper function — cumsum2","text":"","code":"cumsum2(mydat)"},{"path":"https://baolong281.github.io/landpred/reference/cumsum2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Helper function — cumsum2","text":"mydat mydat","code":""},{"path":"https://baolong281.github.io/landpred/reference/cumsum2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Helper function — cumsum2","text":"matrix","code":""},{"path":"https://baolong281.github.io/landpred/reference/cumsum2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Helper function — cumsum2","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/data_example_landpred.html","id":null,"dir":"Reference","previous_headings":"","what":" Hypothetical data to be used in examples. — data_example_landpred","title":" Hypothetical data to be used in examples. — data_example_landpred","text":"Hypothetical data used examples.","code":""},{"path":"https://baolong281.github.io/landpred/reference/data_example_landpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Hypothetical data to be used in examples. — data_example_landpred","text":"","code":"data(data_example_landpred)"},{"path":"https://baolong281.github.io/landpred/reference/data_example_landpred.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":" Hypothetical data to be used in examples. — data_example_landpred","text":"data frame 4868 observations following 5 variables. XL numeric vector. XL = min(TL, C) TL time long term event, C censoring time. DL 0/1 vector. DL =1*(TL<C) TL time long term event, C censoring time. XS numeric vector. XS = min(TS, C) TS time long term event, C censoring time. DS 0/1 vector. DS =1*(TS<C) TS time long term event, C censoring time. Z 0/1 vector discrete covariate values.","code":""},{"path":"https://baolong281.github.io/landpred/reference/data_example_landpred.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":" Hypothetical data to be used in examples. — data_example_landpred","text":"","code":"data(data_example_landpred)"},{"path":"https://baolong281.github.io/landpred/reference/fit_glm_normal.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit GLM with Normal Weights (No Short Covariate Info) — fit_glm_normal","title":"Fit GLM with Normal Weights (No Short Covariate Info) — fit_glm_normal","text":"Fits GLM probability event occurring t0 + tau, given survival t0, using baseline covariates.","code":""},{"path":"https://baolong281.github.io/landpred/reference/fit_glm_normal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit GLM with Normal Weights (No Short Covariate Info) — fit_glm_normal","text":"","code":"fit_glm_normal(landpred_obj, t0, tau)"},{"path":"https://baolong281.github.io/landpred/reference/fit_glm_normal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit GLM with Normal Weights (No Short Covariate Info) — fit_glm_normal","text":"landpred_obj landpred object containing data. t0 landmark time. tau prediction window.","code":""},{"path":"https://baolong281.github.io/landpred/reference/fit_glm_normal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit GLM with Normal Weights (No Short Covariate Info) — fit_glm_normal","text":"fitted glm object.","code":""},{"path":"https://baolong281.github.io/landpred/reference/fit_short_glm.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit GLM with Kernel Weights (Short Covariate Info) — fit_short_glm","title":"Fit GLM with Kernel Weights (Short Covariate Info) — fit_short_glm","text":"Fits GLM probability event occurring t0 + tau, given survival t0 information short-term covariate. Uses kernel weighting based short-term covariate value.","code":""},{"path":"https://baolong281.github.io/landpred/reference/fit_short_glm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit GLM with Kernel Weights (Short Covariate Info) — fit_short_glm","text":"","code":"fit_short_glm(landpred_obj, t0, tau, t_s, bw, transform, indices = NULL)"},{"path":"https://baolong281.github.io/landpred/reference/fit_short_glm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit GLM with Kernel Weights (Short Covariate Info) — fit_short_glm","text":"landpred_obj landpred object containing data. t0 landmark time. tau prediction window. t_s time short-term covariate measurement. bw bandwidth kernel weighting. transform transformation function time variable (e.g., log). indices Optional indices subset data.","code":""},{"path":"https://baolong281.github.io/landpred/reference/fit_short_glm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit GLM with Kernel Weights (Short Covariate Info) — fit_short_glm","text":"fitted glm object.","code":""},{"path":"https://baolong281.github.io/landpred/reference/get_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Landpred Model — get_model","title":"Get Landpred Model — get_model","text":"Fits base GLM (short covariate info) creates landpred model object. Creates landpred model object specific landmark time prediction window. Dispatches continuous discrete model creation based landpred object type.","code":""},{"path":"https://baolong281.github.io/landpred/reference/get_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Landpred Model — get_model","text":"","code":"get_model(landpred_obj, t0, tau, bw = NULL, transform = identity)  get_model(landpred_obj, t0, tau, bw = NULL, transform = identity)"},{"path":"https://baolong281.github.io/landpred/reference/get_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Landpred Model — get_model","text":"landpred_obj landpred object. t0 landmark time. tau prediction window. bw bandwidth (continuous models). transform Transformation function (continuous models).","code":""},{"path":"https://baolong281.github.io/landpred/reference/get_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Landpred Model — get_model","text":"landpred_model_continuous object. landpred_model object (continuous discrete).","code":""},{"path":"https://baolong281.github.io/landpred/reference/helper.si.html","id":null,"dir":"Reference","previous_headings":"","what":" Helper function for AUC.landmark — helper.si","title":" Helper function for AUC.landmark — helper.si","text":"Helper function AUC.landmark; called directly user.","code":""},{"path":"https://baolong281.github.io/landpred/reference/helper.si.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Helper function for AUC.landmark — helper.si","text":"","code":"helper.si(yy,FUN,Yi,Vi=NULL)"},{"path":"https://baolong281.github.io/landpred/reference/helper.si.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Helper function for AUC.landmark — helper.si","text":"yy yy FUN FUN Yi Yi Vi Vi","code":""},{"path":"https://baolong281.github.io/landpred/reference/helper.si.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Helper function for AUC.landmark — helper.si","text":"matrix","code":""},{"path":"https://baolong281.github.io/landpred/reference/helper.si.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Helper function for AUC.landmark — helper.si","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/landpred-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Landmark Prediction of a Survival Outcome — landpred-package","title":"Landmark Prediction of a Survival Outcome — landpred-package","text":"package includes functions landmark prediction survival outcome incorporating covariate short-term event information. information landmark prediction please see: Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/landpred-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Landmark Prediction of a Survival Outcome — landpred-package","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/landpred-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Landmark Prediction of a Survival Outcome — landpred-package","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/landpred-package.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Landmark Prediction of a Survival Outcome — landpred-package","text":"","code":"data(data_example_landpred) t0=2 tau = 8  ####Landmark prediction with no covariate or short term information Prob.Null(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Null\" out = Prob.Null(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Null\" out$Prob #> Error: object 'out' not found out$data #> Error: object 'out' not found  newdata = matrix(c(1,1,3,0,4,1,10,1,11,0), ncol = 2, byrow=TRUE) out = Prob.Null(t0=t0,tau=tau,data=data_example_landpred,newdata=newdata) #> Error in Prob.Null(t0 = t0, tau = tau, data = data_example_landpred, newdata = newdata): could not find function \"Prob.Null\" out$Prob #> Error: object 'out' not found out$newdata #> Error: object 'out' not found  #Landmark prediction with covariate information only Prob.Covariate(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Covariate(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Covariate\" out = Prob.Covariate(t0=t0,tau=tau,data=data_example_landpred) #> Error in Prob.Covariate(t0 = t0, tau = tau, data = data_example_landpred): could not find function \"Prob.Covariate\" out$Prob #> Error: object 'out' not found out$data #> Error: object 'out' not found  newdata = matrix(c(1,1,1, 3,0,1, 4,1,1, 10,1,0, 11,0,1), ncol = 3, byrow=TRUE) out = Prob.Covariate(t0=t0,tau=tau,data=data_example_landpred,newdata=newdata) #> Error in Prob.Covariate(t0 = t0, tau = tau, data = data_example_landpred,     newdata = newdata): could not find function \"Prob.Covariate\" out$Prob #> Error: object 'out' not found out$newdata #> Error: object 'out' not found  #Landmark prediction with covariate information and short term event information #note: computationally intensive commands below #Prob.Covariate.ShortEvent(t0=t0,tau=tau,data=data_example_landpred) #out = Prob.Covariate.ShortEvent(t0=t0,tau=tau,data=data_example_landpred) #out$data #data.plot = out$data #plot(data.plot$XS[data.plot$Z ==1], data.plot$Probability[data.plot$Z ==1], #pch = 20, xlim = c(0,t0)) #points(data.plot$XS[data.plot$Z ==0], data.plot$Probability[data.plot$Z ==0], #pch = 20, col = 2)  newdata = matrix(c(1,1,0.5,1,0, 3,0,1,1,1, 4,1,1.5,1,0, 10,1,5,1,0, 11,0,11,0,1), ncol = 5, byrow=TRUE) #note: computationally intensive command below #out=Prob.Covariate.ShortEvent(t0=t0,tau=tau,data=data_example_landpred,newdata=newdata) #out$newdata"},{"path":"https://baolong281.github.io/landpred/reference/landpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Landpred Object — landpred","title":"Create a Landpred Object — landpred","text":"Parses formula data create landpred object used landmark prediction.","code":""},{"path":"https://baolong281.github.io/landpred/reference/landpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Landpred Object — landpred","text":"","code":"landpred(formula, data, discrete = FALSE)"},{"path":"https://baolong281.github.io/landpred/reference/landpred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Landpred Object — landpred","text":"formula formula object Surv object LHS covariates RHS. data data frame. discrete Logical, whether use discrete method (legacy).","code":""},{"path":"https://baolong281.github.io/landpred/reference/landpred.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Landpred Object — landpred","text":"landpred_object.","code":""},{"path":"https://baolong281.github.io/landpred/reference/mse.BW.html","id":null,"dir":"Reference","previous_headings":"","what":" Helper function for optimize.mse.BW. — mse.BW","title":" Helper function for optimize.mse.BW. — mse.BW","text":"Helper function optimize.mse.BW.","code":""},{"path":"https://baolong281.github.io/landpred/reference/mse.BW.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Helper function for optimize.mse.BW. — mse.BW","text":"","code":"mse.BW(data, t0,tau,h, folds = 3,reps=2)"},{"path":"https://baolong281.github.io/landpred/reference/mse.BW.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Helper function for optimize.mse.BW. — mse.BW","text":"data n 5 matrix. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), third column XS = min(TS, C) TS time short term event, C censoring time, fourth column DS =1*(TS<C), fifth column covariate. data used calculate estimated probability. t0 landmark time. tau residual survival time interest. h bandwidth folds Number folds wanted K-fold cross-validation. Default 3. reps Number repitions wanted K-fold cross-validation. Default 2.","code":""},{"path":"https://baolong281.github.io/landpred/reference/mse.BW.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Helper function for optimize.mse.BW. — mse.BW","text":"mean MSE","code":""},{"path":"https://baolong281.github.io/landpred/reference/mse.BW.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Helper function for optimize.mse.BW. — mse.BW","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/mse.BW.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Helper function for optimize.mse.BW. — mse.BW","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/optimize.mse.BW.html","id":null,"dir":"Reference","previous_headings":"","what":" Calculates initial optimal bandwidth. — optimize.mse.BW","title":" Calculates initial optimal bandwidth. — optimize.mse.BW","text":"Calculates initial optimal bandwidth respect mean squared error using K-fold cross-validation.","code":""},{"path":"https://baolong281.github.io/landpred/reference/optimize.mse.BW.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Calculates initial optimal bandwidth. — optimize.mse.BW","text":"","code":"optimize.mse.BW(data, t0,tau,h.grid=seq(.01,2,length=50), folds=3, reps=2)"},{"path":"https://baolong281.github.io/landpred/reference/optimize.mse.BW.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Calculates initial optimal bandwidth. — optimize.mse.BW","text":"data n 5 matrix. data matrix first column XL = min(TL, C) TL time long term event, C censoring time, second column DL =1*(TL<C), third column XS = min(TS, C) TS time short term event, C censoring time, fourth column DS =1*(TS<C), fifth column covariate. data used calculate estimated probability. t0 landmark time. tau residual survival time interest. h.grid grid possible bandwidths user like function search . Default h.grid = seq(.01,2,length=50). folds Number folds wanted K-fold cross-validation. Default 3. reps Number repitions wanted K-fold cross-validation. Default 2.","code":""},{"path":"https://baolong281.github.io/landpred/reference/optimize.mse.BW.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Calculates initial optimal bandwidth. — optimize.mse.BW","text":"h Selected bandwidth.","code":""},{"path":"https://baolong281.github.io/landpred/reference/optimize.mse.BW.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":" Calculates initial optimal bandwidth. — optimize.mse.BW","text":"Parast, Layla, Su-Chun Cheng, Tianxi Cai. Incorporating short-term outcome information predict long-term survival discrete markers. Biometrical Journal 53.2 (2011): 294-307.","code":""},{"path":"https://baolong281.github.io/landpred/reference/optimize.mse.BW.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Calculates initial optimal bandwidth. — optimize.mse.BW","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/predict.landpred_model_continuous.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict Method for Landpred Continuous Model — predict.landpred_model_continuous","title":"Predict Method for Landpred Continuous Model — predict.landpred_model_continuous","text":"Predicts probability event occurring given new data.","code":""},{"path":"https://baolong281.github.io/landpred/reference/predict.landpred_model_continuous.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict Method for Landpred Continuous Model — predict.landpred_model_continuous","text":"","code":"# S3 method for class 'landpred_model_continuous' predict(object, newdata = NULL, type = \"response\")"},{"path":"https://baolong281.github.io/landpred/reference/predict.landpred_model_continuous.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict Method for Landpred Continuous Model — predict.landpred_model_continuous","text":"object landpred_model_continuous object. newdata New data frame containing covariates short-term event info. type Type prediction (default \"response\").","code":""},{"path":"https://baolong281.github.io/landpred/reference/predict.landpred_model_continuous.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict Method for Landpred Continuous Model — predict.landpred_model_continuous","text":"vector predicted probabilities.","code":""},{"path":"https://baolong281.github.io/landpred/reference/predict.landpred_model_discrete.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict Method for Discrete Landpred Model — predict.landpred_model_discrete","title":"Predict Method for Discrete Landpred Model — predict.landpred_model_discrete","text":"Predicts probabilities using discrete landpred model.","code":""},{"path":"https://baolong281.github.io/landpred/reference/predict.landpred_model_discrete.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict Method for Discrete Landpred Model — predict.landpred_model_discrete","text":"","code":"# S3 method for class 'landpred_model_discrete' predict(object, newdata = NULL, ...)"},{"path":"https://baolong281.github.io/landpred/reference/predict.landpred_model_discrete.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict Method for Discrete Landpred Model — predict.landpred_model_discrete","text":"object landpred_model_discrete object. newdata Optional new data. ... Additional arguments.","code":""},{"path":"https://baolong281.github.io/landpred/reference/predict.landpred_model_discrete.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict Method for Discrete Landpred Model — predict.landpred_model_discrete","text":"Predicted probabilities.","code":""},{"path":"https://baolong281.github.io/landpred/reference/print.landpred_model_discrete.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for Discrete Landpred Model — print.landpred_model_discrete","title":"Print Method for Discrete Landpred Model — print.landpred_model_discrete","text":"Prints discrete landpred model results.","code":""},{"path":"https://baolong281.github.io/landpred/reference/print.landpred_model_discrete.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for Discrete Landpred Model — print.landpred_model_discrete","text":"","code":"# S3 method for class 'landpred_model_discrete' print(x, ...)"},{"path":"https://baolong281.github.io/landpred/reference/print.landpred_model_discrete.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for Discrete Landpred Model — print.landpred_model_discrete","text":"x landpred_model_discrete object. ... Additional arguments.","code":""},{"path":"https://baolong281.github.io/landpred/reference/print.landpred_object.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for Landpred Object — print.landpred_object","title":"Print Method for Landpred Object — print.landpred_object","text":"Prints summary landpred object.","code":""},{"path":"https://baolong281.github.io/landpred/reference/print.landpred_object.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for Landpred Object — print.landpred_object","text":"","code":"# S3 method for class 'landpred_object' print(x, ...)"},{"path":"https://baolong281.github.io/landpred/reference/print.landpred_object.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for Landpred Object — print.landpred_object","text":"x landpred_object. ... Additional arguments.","code":""},{"path":"https://baolong281.github.io/landpred/reference/prob2.single.html","id":null,"dir":"Reference","previous_headings":"","what":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts) for a single t. — prob2.single","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts) for a single t. — prob2.single","text":"Helper function Prob2.k.t; called directly.","code":""},{"path":"https://baolong281.github.io/landpred/reference/prob2.single.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts) for a single t. — prob2.single","text":"","code":"prob2.single(K, W2i, Xi.long, tau, Di.short, Xi.short, Zi, t0, covariate.value)"},{"path":"https://baolong281.github.io/landpred/reference/prob2.single.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts) for a single t. — prob2.single","text":"K Kernel matrix. W2i inverse probability censoring weights. Xi.long XL = min(TL, C) TL time long term event, C censoring time. tau residual survival time probabilities calculated. Specifically, function estimates probability individual event interest t0 + tau given event yet occurred individual still risk time t0. Di.short DS =1*(TS<C), TS time short term event, C censoring time. Xi.short log(XS) = log(min(TS, C)) TS time short term event, C censoring time. Zi covariate vector. t0 landmark time. covariate.value specific covariate estimate conditional probability.","code":""},{"path":"https://baolong281.github.io/landpred/reference/prob2.single.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts) for a single t. — prob2.single","text":"returns estimated probability values corresponding kernel matrix specified covariate value;","code":""},{"path":"https://baolong281.github.io/landpred/reference/prob2.single.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":" Estimates P(TL <t0+tau | TL > t0, Z, TS==ts) for a single t. — prob2.single","text":"Layla Parast","code":""},{"path":"https://baolong281.github.io/landpred/reference/summary.landpred_model_continuous.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary Method for Landpred Continuous Model — summary.landpred_model_continuous","title":"Summary Method for Landpred Continuous Model — summary.landpred_model_continuous","text":"Prints summary model, including coefficients standard errors.","code":""},{"path":"https://baolong281.github.io/landpred/reference/summary.landpred_model_continuous.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary Method for Landpred Continuous Model — summary.landpred_model_continuous","text":"","code":"# S3 method for class 'landpred_model_continuous' summary(object, t_s = NULL, ...)"},{"path":"https://baolong281.github.io/landpred/reference/summary.landpred_model_continuous.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary Method for Landpred Continuous Model — summary.landpred_model_continuous","text":"object landpred_model_continuous object. t_s Optional short-term covariate time. ... Additional arguments.","code":""},{"path":"https://baolong281.github.io/landpred/reference/summary.landpred_object.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary Method for Landpred Object — summary.landpred_object","title":"Summary Method for Landpred Object — summary.landpred_object","text":"Prints detailed summary landpred object.","code":""},{"path":"https://baolong281.github.io/landpred/reference/summary.landpred_object.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary Method for Landpred Object — summary.landpred_object","text":"","code":"# S3 method for class 'landpred_object' summary(object, ...)"},{"path":"https://baolong281.github.io/landpred/reference/summary.landpred_object.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary Method for Landpred Object — summary.landpred_object","text":"object landpred_object. ... Additional arguments.","code":""},{"path":"https://baolong281.github.io/landpred/reference/var.fun.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Variance of Coefficients — var.fun","title":"Estimate Variance of Coefficients — var.fun","text":"Estimates variance coefficients short-term GLM using perturbation resampling method.","code":""},{"path":"https://baolong281.github.io/landpred/reference/var.fun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Variance of Coefficients — var.fun","text":"","code":"var.fun(t, data.v, tau, s, h, vmat, Ainv, weight = NULL, transform = identity)"},{"path":"https://baolong281.github.io/landpred/reference/var.fun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Variance of Coefficients — var.fun","text":"t target time short-term covariate (usually t_s). data.v data frame used estimation. tau landmark time. s prediction window. h bandwidth. vmat matrix perturbation weights. Ainv inverse information matrix model fit. weight Optional weights. transform Transformation function.","code":""},{"path":"https://baolong281.github.io/landpred/reference/var.fun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Variance of Coefficients — var.fun","text":"list containing estimated standard errors intercept slopes.","code":""}]
